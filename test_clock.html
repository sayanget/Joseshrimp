<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>时钟测试</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
</head>

<body>
    <nav class="navbar navbar-dark bg-primary">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">测试</a>
            <!-- 时钟显示 -->
            <div class="navbar-text text-white me-auto ms-2">
                <i class="bi bi-clock"></i>
                <span id="currentTime" style="font-family: monospace; font-size: 0.85rem;">--:--:--</span>
            </div>
            <button class="navbar-toggler" type="button">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container mt-4">
        <h3>时钟测试页面</h3>
        <p>如果看到上方导航栏有时钟图标和时间显示，说明时钟正常工作。</p>
        <p>当前时间应该显示马萨特兰时区的时间。</p>
    </div>

    <script>
        // 时钟更新功能
        const clockUpdate = {
            updateClock: () => {
                const clockElement = document.getElementById('currentTime');
                if (!clockElement) {
                    console.error('找不到 currentTime 元素');
                    return;
                }

                const now = new Date();

                // 转换为马萨特兰时区
                const options = {
                    timeZone: 'America/Mazatlan',
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit',
                    hour12: false
                };

                const timeString = now.toLocaleTimeString('en-US', options);
                clockElement.textContent = timeString;
                console.log('时钟更新:', timeString);
            },

            init: () => {
                console.log('初始化时钟...');
                clockUpdate.updateClock();
                setInterval(clockUpdate.updateClock, 1000);
            }
        };

        // 页面加载后立即初始化
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM 加载完成，启动时钟');
            clockUpdate.init();
        });
    </script>
</body>

</html>